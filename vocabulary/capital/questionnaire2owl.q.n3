@prefix eu: <http://eulersharp.sourceforge.net/2003/03swap/log-rules#>.
@prefix string: <http://www.w3.org/2000/10/swap/string#>.
@prefix fn:     <http://www.w3.org/2005/xpath-functions#>.
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#>.
@prefix owl:  <http://www.w3.org/2002/07/owl#>.
@prefix log:  <http://www.w3.org/2000/10/swap/log#>.
@prefix ques: <http://www.bizinnov.com/ontologies/quest.owl.ttl#> .
@prefix      : <http://www.bizinnov.com/ontologies/quest.owl.ttl#> .

# lancer avec:
# eye --nope Evaluation_capital_opérationnel.ttl --query questionnaire2owl.q.n3 > Evaluation_capital_opérationnel.owl.ttl

# Chaque question du fichier MD devient une owl:DatatypeProperty à valeurs énumérées
{ ?Q ques:header ?L ;
     ques:paragraph ?C .
     _:d eu:findall (
     	     # { ?ENUM rdfs:label ?I }
     	     ?I
     { ?Q ques:item ?I }
     ?LIST
     ).
} => {
  ?Q a owl:DatatypeProperty ;
  rdfs:label ?L ;
  rdfs:comment ?C ;
  rdfs:range [ owl:oneOf ?LIST ] . # ?RANGE.
} .


# Rassembler via ques:subheader pour faire une owl:Class et la propriété correspondante de :User
{ ?CLASS ques:subheader ?PROP ;
	ques:header ?LAB .
  ?PROP ques:item ?ITEM .
} => {
  ?CLASS a owl:Class ; rdfs:label ?LAB .
  ?P a owl:ObjectProperty; rdfs:domain :User; rdfs:range ?CLASS .
  ?PROP rdfs:domain ?CLASS.
}.

